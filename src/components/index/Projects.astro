---
import ProjectCard from './ProjectCard.astro';
import { getCollection } from 'astro:content';
const projects = await getCollection('projects');
---

<section id="projects" class="text-gray-300 font-mono pb-20 md:pb-40">
    <div class="container px-4 sm:px-6 md:px-8 lg:px-16 xl:px-32 pt-32 md:pt-48 lg:pt-64 mx-auto">
        <!-- Header with AOS -->
        <div
            class="flex items-center text-purple-600 gap-3 md:gap-4 mb-12 md:mb-16"
            data-aos="fade-up"
            data-aos-delay="100"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-8 h-8 md:w-10 md:h-10 animate-pulse"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"></path>
            </svg>
            <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-white ml-1 md:ml-2">projects</h1>
        </div>

        <!-- Projects Grid with AOS -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 lg:gap-10">
            {
                projects.map((item, index) => (
                    <div data-aos="fade-up" data-aos-delay={`${index * 150}`}>
                        <ProjectCard
                            title={item.data.title}
                            description={item.body}
                            tags={item.data.tags}
                            codeLink={item.data.codeLink}
                            demoLink={item.data.demoLink ?? ''}
                        />
                    </div>
                ))
            }
        </div>
    </div>
</section>

<style>
    html {
        scroll-behavior: smooth;
    }

    #projects {
        scroll-margin-top: 2rem;
    }

    @media (min-width: 768px) {
        #projects {
            scroll-margin-top: 4rem;
        }
    }
</style>
