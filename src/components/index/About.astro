---
const { translations, currentLang } = Astro.props;
---

<section id="about" class="text-gray-300 body-font py-16 sm:py-20 md:py-32 lg:py-40">
    <div class="container px-4 sm:px-6 md:px-8 lg:px-12 xl:px-20 pt-12 sm:pt-16 md:pt-24 lg:pt-32 mx-auto">
        <div
            class="flex items-center text-purple-600 gap-3 sm:gap-4 mb-6 sm:mb-8 md:mb-12"
            data-animate
            data-direction="left"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 icon-bounce"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
                ></path>
            </svg>
            <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl text-white font-mono">
                {translations?.about?.title}
            </h1>
        </div>

        <!-- Main Content -->
        <div class="flex flex-col lg:flex-row items-start gap-8 lg:gap-12 xl:gap-16">
            <!-- Text Content -->
            <div class="w-full lg:w-1/2 text-left">
                <div class="space-y-4 sm:space-y-6 md:space-y-8" data-animate data-direction="bottom">
                    <p class="text-sm sm:text-base md:text-lg lg:text-xl font-mono text-gray-400 leading-relaxed">
                        {translations?.about?.['description-0']}
                        <span class="highlight-text">{translations?.about?.['description-1']}</span>,
                        {translations?.about?.['description-2']}
                        <span class="highlight-text">{translations?.about?.['description-3']}</span>,
                        <span class="highlight-text">{translations?.about?.['description-4']}</span>,
                        {translations?.about?.['description-5']}
                        <span class="highlight-text">{translations?.about?.['description-6']}</span>.
                        {translations?.about?.['description-7']}
                        <span class="highlight-text">{translations?.about?.['description-8']}</span>
                        {translations?.about?.['description-9']}
                        <span class="highlight-text">{translations?.about?.['description-10']}</span>,
                        {translations?.about?.['description-11']}
                    </p>

                    <p class="text-sm sm:text-base md:text-lg lg:text-xl font-mono text-gray-400 leading-relaxed mt-4">
                        {translations?.about?.['description-12']}
                        <span class="highlight-text">{translations?.about?.['description-13']}</span> â€”
                        {translations?.about?.['description-14']}
                        {translations?.about?.['description-15']}
                        <span class="highlight-text">{translations?.about?.['description-16']}</span>
                        {translations?.about?.['description-17']}
                        <span class="highlight-text">{translations?.about?.['description-18']}</span>
                        {translations?.about?.['description-19']}
                        <span class="highlight-text">{translations?.about?.['description-20']}</span>.
                        {translations?.about?.['description-21']}
                    </p>
                </div>
            </div>

            <!-- Portrait Gallery -->
            <div class="w-full lg:w-1/2">
                <div class="relative mx-auto max-w-sm md:max-w-md lg:max-w-lg">
                    <div
                        id="image-carousel"
                        class="portrait-gallery rounded-2xl overflow-hidden shadow-2xl"
                        data-animate
                        data-direction="right"
                    >
                        <!-- Image 1 -->
                        <div class="carousel-item active absolute inset-0 flex items-center justify-center">
                            <img
                                src="/Image0.webp"
                                class="portrait-image w-full h-full"
                                alt="Professional Portrait 1"
                                data-loaded="false"
                                onload="this.setAttribute('data-loaded', 'true')"
                            />
                        </div>

                        <!-- Image 2 -->
                        <div class="carousel-item absolute inset-0 flex items-center justify-center">
                            <img
                                src="/Image1.webp"
                                class="portrait-image w-full h-full"
                                alt="Professional Portrait 2"
                                data-loaded="false"
                                onload="this.setAttribute('data-loaded', 'true')"
                            />
                        </div>

                        <!-- Image 3 -->
                        <div class="carousel-item absolute inset-0 flex items-center justify-center">
                            <img
                                src="/Image2.webp"
                                class="portrait-image w-full h-full"
                                alt="Professional Portrait 3"
                                data-loaded="false"
                                onload="this.setAttribute('data-loaded', 'true')"
                            />
                        </div>

                        <!-- Image 4 -->
                        <div class="carousel-item absolute inset-0 flex items-center justify-center">
                            <img
                                src="/Image3.webp"
                                class="portrait-image w-full h-full"
                                alt="Professional Portrait 4"
                                data-loaded="false"
                                onload="this.setAttribute('data-loaded', 'true')"
                            />
                        </div>

                        <!-- Loading overlay -->
                        <div
                            id="loading-overlay"
                            class="absolute inset-0 image-placeholder flex items-center justify-center"
                        >
                            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const carouselItems = document.querySelectorAll('.carousel-item');
        const totalItems = carouselItems.length;
        let currentSlide = 0;

        function showSlide(index) {
            carouselItems.forEach((item, i) => {
                if (item instanceof HTMLElement) {
                    item.style.display = i === index ? 'block' : 'none';
                    item.classList.toggle('active', i === index);
                }
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalItems;
            showSlide(currentSlide);
        }

        function startCarousel() {
            intervalId = setInterval(nextSlide, 3250);
        }

        showSlide(currentSlide);
        startCarousel();
    });
</script>

<style>
    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(100px) scale(0.9);
        }
        to {
            opacity: 1;
            transform: translateX(0) scale(1);
        }
    }

    @keyframes slideOut {
        from {
            opacity: 1;
            transform: translateX(0) scale(1);
        }
        to {
            opacity: 0;
            transform: translateX(-100px) scale(0.9);
        }
    }

    .portrait-gallery {
        aspect-ratio: 3/4;
        background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(236, 72, 153, 0.1));
        backdrop-filter: blur(10px);
        border: 1px solid rgba(168, 85, 247, 0.2);
    }

    .carousel-item {
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        backface-visibility: hidden;
        will-change: transform, opacity;
    }

    .carousel-item.active {
        opacity: 1;
        transform: translateX(0) scale(1);
        z-index: 10;
    }

    .carousel-item:not(.active) {
        opacity: 0;
        transform: translateX(20px) scale(0.95);
        z-index: 1;
    }

    .carousel-item.sliding-out {
        animation: slideOut 0.5s ease-out forwards;
    }

    .carousel-item.sliding-in {
        animation: slideIn 0.5s ease-out forwards;
    }

    .portrait-image {
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        filter: brightness(0.95) contrast(1.05) saturate(1.1);
    }

    .portrait-image:hover {
        filter: brightness(1) contrast(1.1) saturate(1.15);
        transform: scale(1.02);
    }
    .carousel-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        border: 2px solid rgba(168, 85, 247, 0.3);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .carousel-indicator::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, #a855f7, #ec4899);
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .carousel-indicator.active {
        background: rgba(168, 85, 247, 0.8);
        border-color: #a855f7;
        transform: scale(1.2);
        box-shadow: 0 0 12px rgba(168, 85, 247, 0.5);
    }

    .carousel-indicator.active::before {
        opacity: 1;
    }

    .carousel-indicator:hover {
        background: rgba(255, 255, 255, 0.6);
        transform: scale(1.1);
    }

    .highlight-text {
        background: linear-gradient(135deg, #a855f7, #ec4899);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        transition: all 0.3s ease;
        position: relative;
    }

    .highlight-text:hover {
        transform: translateY(-1px);
        filter: brightness(1.2);
    }

    .icon-bounce {
        animation: iconBounce 2s ease-in-out infinite;
    }

    @keyframes iconBounce {
        0%,
        100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-5px);
        }
    }

    .image-placeholder {
        background: linear-gradient(
            90deg,
            rgba(168, 85, 247, 0.1) 25%,
            rgba(168, 85, 247, 0.2) 50%,
            rgba(168, 85, 247, 0.1) 75%
        );
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }
        100% {
            background-position: 200% 0;
        }
    }

    @media (max-width: 768px) {
        .portrait-gallery {
            aspect-ratio: 4/5;
            max-height: 70vh;
        }
    }

    @media (max-width: 640px) {
        .portrait-gallery {
            aspect-ratio: 1/1;
            max-height: 60vh;
        }
    }

    .portrait-image {
        background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(236, 72, 153, 0.1));
        object-fit: cover;
        object-position: center top;
    }

    .portrait-image[data-loaded='false'] {
        filter: blur(5px);
        opacity: 0.7;
    }

    .portrait-image[data-loaded='true'] {
        filter: none;
        opacity: 1;
    }
</style>
